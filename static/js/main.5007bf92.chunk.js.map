{"version":3,"sources":["store/EventIndex.tsx","components/events/event-data-util.ts","store/UsersIndex.tsx","store/OverviewIndex.tsx","ui-components/dialog/Dialog.module.scss","ui-components/dialog/Dialog.tsx","components/sidebar/Sidebar.tsx","images/logo.png","components/not-found/NotFound.tsx","App.tsx","store/index.tsx","reportWebVitals.ts","index.tsx","ts/enums/language.enum.ts","hooks/fetch-hook.tsx","components/sidebar/Sidebar.module.scss","ui-components/table/ts/enums/table-alignment.enum.ts","utils/main-util.ts","components/events/ts/enums/event-type.enum.ts","components/overview/overview-data-util.ts","ui-components/loader/Loader.tsx","ui-components/modal/Modal.tsx","components/overview/ts/enums/user-type.enum.ts","components/users/ts/enums/user-log-file-type.enum.ts","components/users/users-data-util.ts"],"names":["eventStoreReducer","createSlice","name","initialState","isLoading","showErrorModal","data","attackData","bandwidthData","reducers","finishLoading","state","action","payload","setErrorModalState","loadEvents","createStore","reducer","dispatch","a","setTimeout","Promise","all","useFetch","fetchUrl","dataCorrupted","some","dataItem","map","eventDataUtil","eventReducerActions","APP_LOAD_DELAY","actions","trafficChartDataColors","mainUtil","getPiePercentage","typeValue","filter","value","length","toFixed","getBytesOfEventsByDate","labels","reduce","accumulator","label","bdwAcc","item","datetime","startsWith","bandwidth","getAttackTableRows","attackerIpAddress","numberOfAttacks","alignment","TableAlignment","LEFT","RIGHT","getTotalEventsPercentage","eventType","last7DayLabels","slice","previous7DayLabels","last7DaysEvents","previous7DaysEvents","showUpIcon","totalPercentage","getTotalBandwidthPercentage","showBandwidthUpIcon","totalBandwidthPercentage","getTotalEventsForTheWeek","getTotalDataTraffic","totalBytes","toString","transformEventList","split","rowItem","dateTimeValue","date","time","getDoughnutData","datasets","EventType","USER_LOGIN","USER_LOGOUT","SERVICE_START","FILE_DATA_WRITE","MALWARE_ATTACK","backgroundColor","borderWidth","getLineData","chartData","fill","borderColor","getTrafficChartData","labelIndex","bytesBandwidth","Array","from","_","index","Object","values","usersStoreReducer","keywordsData","keywordData","loadUserData","userLogData","userKeywordData","userLogPayload","usersDataUtil","userKeywordPayload","userReducerActions","overviewStoreReducer","pages","visitors","referrals","activeUsers","loadOverviewData","pagesData","visitorsData","referralsData","activeData","pagesPayload","overviewDataUtil","visitorsPayload","referralsPayload","activeUsersPayload","overviewReducerActions","module","exports","DialogContainer","props","onClose","selectedValue","open","title","options","Dialog","fullWidth","maxWidth","DialogTitle","List","sx","pt","option","className","defaultValue","styles","active","ListItem","button","onClick","ListItemText","primary","languageOptions","Sidebar","useTranslation","t","i18n","React","useState","isDialogOpen","setOpenDialogState","Language","ENGLISH","setSelectedValue","language","toLowerCase","SERBIAN","changeLanguage","localStorage","setItem","logo","src","alt","Tooltip","to","options__item","activeClassName","NotFound","Alert","severity","AlertTitle","isScreenSizeChecked","UsersLazyComponent","lazy","EventsLazyComponent","OverviewLazyComponent","App","location","useLocation","sidebarOpened","setSidebaredOpen","biggerThan1440","useMediaPredicate","onToggleSidebar","useEffect","pathname","id","sidebarStyles","mobileSidebar","path","exact","fallback","Modal","show","color","CircularProgress","store","configureStore","overview","users","events","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","i18next","init","interpolation","escapeValue","lng","resources","englishTranslations","serbianTranslations","ReactDOM","render","StrictMode","I18nextProvider","document","getElementById","axios","get","httpData","RED_COLOR","BLUE_COLOR","GREEN_COLOR","YELLOW_COLOR","PURPLE_COLOR","BLUE_BACKGROUND","LIGHT_BLUE_COLOR","LIGHT_PURPLE_COLOR","unitSeparator","tickValue","tickValueNumber","Number","parseFloat","i","Math","floor","log","pow","getNumberOfEventsByDate","getUniqueItemsFromTheRange","key","sliceOffset","Set","getTableRows","showImage","translationObject","translationKey","uniqueItems","valueToCompare","includes","getUniqueItems","uniqueItem","numberOfVisits","imageValue","getStoredLanguage","storedLanguage","getItem","getTableHeaders","titles","numberOfHeaders","getNumberOfVisitorsByDate","userType","transformOverviewData","getOnlineUsers","getTotalUsersPercentage","getNumberOfVisitors","getTotalNumberOfVisitors","getLineChartVisitorsData","newVisitorsLabel","existingVisitorsLabel","UserType","NEW","EXISTING","getReferralsTableRows","rowDataItem","rowDataIndex","referralValue","newReferralSource","charAt","toUpperCase","Loader","children","colorToUse","Backdrop","zIndex","theme","drawer","createPortal","querySelector","UserLogFileType","visitDurationColors","numberOfItems","totalNumberOfItems","translateFileType","fileType","JAVASCRIPT","STYLESHEET","TEXTUAL","IMAGE","HTML","getDurationItemsFromRange","startDuration","endDuration","parsedDuration","duration","getVisitsDurationData","zeroTo30Seconds","thirtyTo2Minutes","twoToTo5Minutes","fiveTo15Minutes","sumOfValues","transformUserLog","isMainFile","deviceType","country","filetTypeUI","formatMainLog","keyword","formatKeywordLog","getNumberOfDeviceTypes"],"mappings":"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","file":"static/js/main.5007bf92.chunk.js","sourcesContent":["import useFetch from \"../hooks/fetch-hook\";\r\nimport { APP_LOAD_DELAY } from \"../utils/main-util\";\r\nimport { createSlice, createStore } from \"@reduxjs/toolkit\";\r\nimport * as eventDataUtil from \"../components/events/event-data-util\";\r\n\r\nconst initialState = {\r\n    isLoading: true,\r\n    showErrorModal: false,\r\n    data: [],\r\n    attackData: [],\r\n    bandwidthData: []\r\n};\r\n\r\nexport const eventStoreReducer = createSlice({\r\n    name: 'eventStore',\r\n    initialState,\r\n    reducers: {\r\n        finishLoading(state, action) {\r\n            const [data, attackData, bandwidthData] = action.payload;\r\n            \r\n            state.data = data;\r\n            state.attackData = attackData;\r\n            state.bandwidthData = bandwidthData;\r\n        },\r\n        setErrorModalState(state, action) {\r\n            state.isLoading = false;\r\n            state.showErrorModal = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nconst eventStore = createStore(eventStoreReducer.reducer);\r\n\r\nexport const loadEvents = () => {\r\n    return async (dispatch: typeof eventStore.dispatch) => {\r\n        setTimeout(async () => {\r\n            const data = await Promise.all([\r\n                useFetch({ fetchUrl: 'assets/events/event-log.txt' }),\r\n                useFetch({ fetchUrl: 'assets/events/event-attack-log.txt' }),\r\n                useFetch({ fetchUrl: 'assets/events/event-traffic-log.txt' })\r\n            ]);\r\n\r\n            const dataCorrupted = data.some(dataItem => dataItem === null);\r\n            const payload = data.map(dataItem => eventDataUtil.transformEventList(dataItem));\r\n\r\n            dispatch(eventReducerActions.finishLoading(payload));\r\n            dispatch(eventReducerActions.setErrorModalState(dataCorrupted));\r\n\r\n        }, APP_LOAD_DELAY);\r\n    };\r\n}\r\n\r\nexport const eventReducerActions = eventStoreReducer.actions;\r\n\r\nexport default eventStore;","import { EventType } from \"./ts/enums/event-type.enum\";\r\nimport { IEventItem } from \"./ts/models/event-item.model\";\r\nimport { IEventAttackItem } from \"./ts/models/event-attack-item.model\";\r\nimport { IEventBandwidthItem } from \"./ts/models/event-bandwidth-item.model\";\r\nimport { TableAlignment } from \"../../ui-components/table/ts/enums/table-alignment.enum\";\r\nimport * as mainUtil from '../../utils/main-util';\r\n\r\nconst trafficChartDataColors = [\r\n  mainUtil.YELLOW_COLOR, mainUtil.BLUE_COLOR, mainUtil.RED_COLOR, mainUtil.PURPLE_COLOR\r\n];\r\n\r\nconst getPiePercentage = (data: IEventItem[], typeValue: EventType) => {\r\n  return +((data.filter(dataItem => dataItem.value === typeValue).length / data.length) * 100).toFixed(1);\r\n}\r\n\r\nconst getBytesOfEventsByDate = (labels: string[], data: IEventBandwidthItem[]) => {\r\n  return labels.reduce((accumulator, label) => {\r\n    const totalBytes = data.reduce((bdwAcc, item) => item.datetime.startsWith(label) ? bdwAcc + +item.bandwidth : bdwAcc, 0);\r\n\r\n    return accumulator + totalBytes;\r\n  }, 0);\r\n}\r\n\r\nexport const getAttackTableRows = (data: IEventAttackItem[]) => {\r\n  const uniqueAttackers = mainUtil.getUniqueItemsFromTheRange<IEventAttackItem>(data, 'value', 0);\r\n\r\n  return uniqueAttackers.map(attackerIpAddress => {\r\n    const numberOfAttacks = data.filter(dataItem => dataItem.value === attackerIpAddress).length;\r\n\r\n    return {\r\n      data: [\r\n        { 'row-0': attackerIpAddress, alignment: TableAlignment.LEFT },\r\n        { 'row-1': numberOfAttacks, alignment: TableAlignment.RIGHT }\r\n      ]\r\n    }\r\n  });\r\n}\r\n\r\nexport const getTotalEventsPercentage = (data: IEventItem[], eventType?: EventType) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventItem>(data, 'datetime', -14);\r\n  const last7DayLabels = labels.slice(-7);\r\n  const previous7DayLabels = labels.slice(0, 7);\r\n\r\n  const last7DaysEvents = mainUtil.getNumberOfEventsByDate(last7DayLabels, data, eventType);\r\n  const previous7DaysEvents = mainUtil.getNumberOfEventsByDate(previous7DayLabels, data, eventType);\r\n\r\n  const showUpIcon = last7DaysEvents > previous7DaysEvents;\r\n  const totalPercentage = ((last7DaysEvents / previous7DaysEvents)).toFixed(1);\r\n\r\n  return { showUpIcon, totalPercentage };\r\n}\r\n\r\nexport const getTotalBandwidthPercentage = (data: IEventBandwidthItem[]) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventBandwidthItem>(data, 'datetime', -14);\r\n  const last7DayLabels = labels.slice(-7);\r\n  const previous7DayLabels = labels.slice(0, 7);\r\n\r\n  const last7DaysEvents = getBytesOfEventsByDate(last7DayLabels, data);\r\n  const previous7DaysEvents = getBytesOfEventsByDate(previous7DayLabels, data);\r\n\r\n  const showBandwidthUpIcon = last7DaysEvents > previous7DaysEvents;\r\n  const totalBandwidthPercentage = ((last7DaysEvents / previous7DaysEvents)).toFixed(1);\r\n\r\n  return { showBandwidthUpIcon, totalBandwidthPercentage };\r\n}\r\n\r\nexport const getTotalEventsForTheWeek = (data: IEventItem[], eventType?: EventType) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventItem>(data, 'datetime', -7);\r\n\r\n  return mainUtil.getNumberOfEventsByDate(labels, data, eventType);\r\n}\r\n\r\nexport const getTotalDataTraffic = (data: IEventBandwidthItem[]) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventBandwidthItem>(data, 'datetime', -7);\r\n\r\n  const totalBytes = labels.reduce((accumulator, label) => {\r\n    const sumOfLabelData = data.reduce((bdwAcc, item) => item.datetime.startsWith(label) ? bdwAcc + +item.bandwidth : bdwAcc, 0);\r\n\r\n    return accumulator + sumOfLabelData;\r\n  }, 0);\r\n\r\n  return mainUtil.unitSeparator(totalBytes.toString()) + 'B';\r\n}\r\n\r\nexport const transformEventList = (data: string | null) => {\r\n  if (data) {\r\n    return data\r\n    .split(/\\r?\\n/)\r\n    .map(rowItem => {\r\n      const [, dateTimeValue, , value, , bandwidth] = rowItem.split(' ');\r\n      const [date, time] = dateTimeValue.split('-');\r\n\r\n      return { datetime: `${date} ${time}`, value, bandwidth };\r\n    });\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\nexport const getDoughnutData = (data: IEventItem[], labels: string[]) => {\r\n  const userLogin = getPiePercentage(data, EventType.USER_LOGIN);\r\n  const userLogout = getPiePercentage(data, EventType.USER_LOGOUT);\r\n  const serviceStart = getPiePercentage(data, EventType.SERVICE_START);\r\n  const fileDataWrite = getPiePercentage(data, EventType.FILE_DATA_WRITE);\r\n  const malwareAttacks = getPiePercentage(data, EventType.MALWARE_ATTACK);\r\n\r\n  return {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: \"\",\r\n        data: [userLogin, userLogout, serviceStart, fileDataWrite, malwareAttacks],\r\n        backgroundColor: [\r\n          mainUtil.BLUE_COLOR, mainUtil.YELLOW_COLOR,\r\n          mainUtil.PURPLE_COLOR, mainUtil.GREEN_COLOR, mainUtil.RED_COLOR\r\n        ],\r\n        borderWidth: 0,\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nexport const getLineData = (data: IEventItem[], label: string) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventItem>(data, 'datetime', -7);\r\n\r\n  const chartData = labels.map(label => {\r\n    const matchingLabelEvents = data.filter(dataItem => dataItem.datetime.startsWith(label));\r\n\r\n    return matchingLabelEvents.length;\r\n  });\r\n\r\n  return {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label,\r\n        data: chartData, fill: false,\r\n        backgroundColor: mainUtil.BLUE_COLOR,\r\n        borderColor: mainUtil.LIGHT_BLUE_COLOR\r\n      }\r\n    ]\r\n  };\r\n};\r\n\r\nexport const getTrafficChartData = (data: IEventBandwidthItem[]) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IEventBandwidthItem>(data, 'value', 0);\r\n\r\n  return {\r\n    labels,\r\n    datasets: labels.map((label, labelIndex) => {\r\n      const bytesBandwidth = data.reduce((accumulator, item) => item.value === label ? accumulator + +item.bandwidth : accumulator, 0);\r\n\r\n      const chartData = Array\r\n        .from({ length: labels.length })\r\n        .map((_, index) => index === labelIndex ? bytesBandwidth : 0);\r\n\r\n      return {\r\n        label,\r\n        data: chartData,\r\n        fill: false,\r\n        backgroundColor: Object.values(trafficChartDataColors)[labelIndex]\r\n      };\r\n    })\r\n  };\r\n}","import useFetch from \"../hooks/fetch-hook\";\r\nimport { APP_LOAD_DELAY } from \"../utils/main-util\";\r\nimport { createSlice, createStore } from \"@reduxjs/toolkit\";\r\nimport * as usersDataUtil from \"../components/users/users-data-util\";\r\n\r\nconst initialState = {\r\n    isLoading: true,\r\n    showErrorModal: false,\r\n    data: [],\r\n    keywordsData: []\r\n};\r\n\r\nexport const usersStoreReducer = createSlice({\r\n    name: 'usersReducer',\r\n    initialState,\r\n    reducers: {\r\n        finishLoading(state, action) {\r\n            const [data, keywordData] = action.payload;\r\n            \r\n            state.data = data;\r\n            state.keywordsData = keywordData;\r\n        },\r\n        setErrorModalState(state, action) {\r\n            state.isLoading = false;\r\n            state.showErrorModal = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nconst userStore = createStore(usersStoreReducer.reducer);\r\n\r\nexport const loadUserData = () => {\r\n    return async (dispatch: typeof userStore.dispatch) => {\r\n        setTimeout(async () => {\r\n            const data = await Promise.all([\r\n                useFetch({ fetchUrl: 'assets/users/users-log.txt' }),\r\n                useFetch({ fetchUrl: 'assets/users/users-log-keyword.txt' })\r\n            ]);\r\n\r\n            const dataCorrupted = data.some(dataItem => dataItem === null);\r\n            const [ userLogData, userKeywordData ] = data;\r\n\r\n            const userLogPayload = usersDataUtil.transformUserLog(userLogData, true);\r\n            const userKeywordPayload = usersDataUtil.transformUserLog(userKeywordData, false);\r\n\r\n            dispatch(userReducerActions.finishLoading([userLogPayload, userKeywordPayload]));\r\n            dispatch(userReducerActions.setErrorModalState(dataCorrupted));\r\n\r\n        }, APP_LOAD_DELAY);\r\n    };\r\n}\r\n\r\nexport const userReducerActions = usersStoreReducer.actions;\r\n\r\nexport default userStore;","import useFetch from \"../hooks/fetch-hook\";\r\nimport { APP_LOAD_DELAY } from \"../utils/main-util\";\r\nimport { createSlice, createStore } from \"@reduxjs/toolkit\";\r\nimport * as overviewDataUtil from \"../components/overview/overview-data-util\";\r\n\r\nconst initialState = {\r\n    isLoading: true,\r\n    showErrorModal: false,\r\n    pages: [],\r\n    visitors: [],\r\n    referrals: [],\r\n    activeUsers: []\r\n};\r\n\r\nexport const overviewStoreReducer = createSlice({\r\n    name: 'overviewReducer',\r\n    initialState,\r\n    reducers: {\r\n        finishLoading(state, action) {\r\n            const [pages, visitors, referrals, activeUsers] = action.payload;\r\n            \r\n            state.pages = pages;\r\n            state.visitors = visitors;\r\n            state.referrals = referrals;\r\n            state.activeUsers = activeUsers;\r\n        },\r\n        setErrorModalState(state, action) {\r\n            state.isLoading = false;\r\n            state.showErrorModal = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nconst overviewStore = createStore(overviewStoreReducer.reducer);\r\n\r\nexport const loadOverviewData = () => {\r\n    return async (dispatch: typeof overviewStore.dispatch) => {\r\n        setTimeout(async () => {\r\n            const data = await Promise.all([\r\n                useFetch({ fetchUrl: 'assets/overview/overview-pages.txt' }),\r\n                useFetch({ fetchUrl: 'assets/overview/overview-visitors.txt' }),\r\n                useFetch({ fetchUrl: 'assets/overview/overview-referrals.txt' }),\r\n                useFetch({ fetchUrl: 'assets/overview/overview-active.txt' })\r\n            ]);\r\n\r\n            const dataCorrupted = data.some(dataItem => dataItem === null);\r\n            const [ pagesData, visitorsData, referralsData, activeData ] = data;\r\n\r\n            const pagesPayload = overviewDataUtil.transformOverviewData(pagesData);\r\n            const visitorsPayload = overviewDataUtil.transformOverviewData(visitorsData);\r\n            const referralsPayload = overviewDataUtil.transformOverviewData(referralsData);\r\n            const activeUsersPayload = overviewDataUtil.transformOverviewData(activeData);\r\n\r\n            const payload = [pagesPayload, visitorsPayload, referralsPayload, activeUsersPayload];\r\n\r\n            dispatch(overviewReducerActions.finishLoading(payload));\r\n            dispatch(overviewReducerActions.setErrorModalState(dataCorrupted));\r\n\r\n        }, APP_LOAD_DELAY);\r\n    };\r\n}\r\n\r\nexport const overviewReducerActions = overviewStoreReducer.actions;\r\n\r\nexport default overviewStore;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Dialog_active__WQl-U\"};","import List from '@mui/material/List';\r\nimport styles from \"./Dialog.module.scss\";\r\nimport Dialog from '@mui/material/Dialog';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport { IDialogProps } from \"./ts/dialog-props.model\";\r\n\r\nconst DialogContainer = (props: IDialogProps) => {\r\n  const { onClose, selectedValue, open, title, options } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value: string) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog fullWidth={true} maxWidth={'xs'} onClose={handleClose} open={open}>\r\n      <DialogTitle><b>{title}</b></DialogTitle>\r\n      <List sx={{ pt: 0 }}>\r\n        {options.map(option => (\r\n          <div className={option === props.defaultValue ? styles.active : ''} key={option}>\r\n            <ListItem button onClick={() => handleListItemClick(option)}>\r\n              <ListItemText primary={option} />\r\n            </ListItem>\r\n          </div>\r\n        ))}\r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default DialogContainer;\r\n","import React from 'react';\r\nimport logo from '../../images/logo.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Sidebar.module.scss';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport { useTranslation } from 'react-i18next';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport { Language } from '../../ts/enums/language.enum';\r\nimport DonutLargeIcon from '@mui/icons-material/DonutLarge';\r\nimport DialogContainer from '../../ui-components/dialog/Dialog';\r\nimport SupervisedUserCircleIcon from '@mui/icons-material/SupervisedUserCircle';\r\nimport * as mainUtil from '../../utils/main-util';\r\n\r\nconst languageOptions = ['English (EN)', 'Српски (СРБ)'];\r\n\r\nconst getPreselectedLanguage = () => {\r\n    const preselectedLanguage = mainUtil.getStoredLanguage();\r\n\r\n    return preselectedLanguage === Language.ENGLISH ? languageOptions[0] : languageOptions[1];\r\n}\r\n\r\nconst Sidebar = () => {\r\n    const { t, i18n } = useTranslation('index');\r\n    const [isDialogOpen, setOpenDialogState] = React.useState(false);\r\n    const [selectedValue, setSelectedValue] = React.useState(getPreselectedLanguage());\r\n\r\n    const handleOpenSettings = () => {\r\n        setOpenDialogState(true);\r\n    };\r\n\r\n    const handleCloseSettings = (value: string) => {\r\n        const language = value.toLowerCase().startsWith('english') ? Language.ENGLISH : Language.SERBIAN;\r\n\r\n        setOpenDialogState(false);\r\n        setSelectedValue(value);\r\n        i18n.changeLanguage(language);\r\n        localStorage.setItem('loggyLanguage', language);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <DialogContainer\r\n                open={isDialogOpen}\r\n                title={t('sidebar.title')}\r\n                onClose={handleCloseSettings}\r\n                defaultValue={selectedValue}\r\n                options={languageOptions}\r\n                selectedValue={selectedValue}\r\n            />\r\n            <div className={styles.logo}>\r\n                <img src={logo} alt=\"logo\" />\r\n\r\n                <span className={`${styles['logo__icon']}`}>\r\n                    <Tooltip title={t<string>('sidebar.title')} onClick={handleOpenSettings}>\r\n                        <SettingsIcon />\r\n                    </Tooltip>\r\n                </span>\r\n            </div>\r\n\r\n            <div className={styles.options}>\r\n                <div>\r\n                    <NavLink to=\"/overview\" className={`${styles.options__item}`} activeClassName={`${styles['options__item--active']}`}>\r\n                        <DonutLargeIcon />\r\n                        {t('sidebar.link1')}\r\n                    </NavLink >\r\n                    <NavLink to=\"/users\" className={`${styles.options__item}`} activeClassName={`${styles['options__item--active']}`}>\r\n                        <SupervisedUserCircleIcon />\r\n                        {t('sidebar.link2')}\r\n                    </NavLink >\r\n                    <NavLink to=\"/events\" className={`${styles.options__item}`} activeClassName={`${styles['options__item--active']}`}>\r\n                        <EventIcon />\r\n                        {t('sidebar.link3')}\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","export default \"data:image/png;base64,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\"","import { Alert, AlertTitle } from '@mui/material';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst NotFound = () => {\r\n    const  { t } = useTranslation('index');\r\n\r\n    return (\r\n        <>\r\n            <Alert severity=\"error\">\r\n                <AlertTitle>{t('utils.404')}</AlertTitle>\r\n                {t('utils.badUrl')}\r\n            </Alert>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NotFound;  ","import \"./App.scss\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Modal from \"./ui-components/modal/Modal\";\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Sidebar from \"./components/sidebar/Sidebar\";\r\nimport { useMediaPredicate } from \"react-media-hook\";\r\nimport NotFound from \"./components/not-found/NotFound\";\r\nimport { CircularProgress, Tooltip } from \"@mui/material\";\r\nimport React, { Suspense, useEffect, useState } from \"react\";\r\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\r\nimport sidebarStyles from './components/sidebar/Sidebar.module.scss';\r\nimport { Route, Redirect, Switch, useLocation } from \"react-router\";\r\nimport * as mainUtil from './utils/main-util';\r\n\r\nlet isScreenSizeChecked = false;\r\n\r\nconst UsersLazyComponent = React.lazy(() => import('./components/users/Users'));\r\nconst EventsLazyComponent = React.lazy(() => import('./components/events/Events'));\r\nconst OverviewLazyComponent = React.lazy(() => import('./components/overview/Overview'));\r\n\r\nconst App = () => {\r\n  const location = useLocation();\r\n  const { t } = useTranslation('index');\r\n  const [sidebarOpened, setSidebaredOpen] = useState(false);\r\n  const biggerThan1440 = useMediaPredicate(\"(min-width: 1440px)\");\r\n\r\n  const onToggleSidebar = () => {\r\n    setSidebaredOpen(!sidebarOpened);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setSidebaredOpen(false);\r\n  }, [location.pathname]);\r\n\r\n  useEffect(() => {\r\n    if (isScreenSizeChecked) {\r\n      setSidebaredOpen(!biggerThan1440);\r\n    }\r\n    \r\n    isScreenSizeChecked = true;\r\n  }, [biggerThan1440]);\r\n\r\n  return (\r\n    <>\r\n      {sidebarOpened && <div id=\"container__sidebar--overlay\" onClick={onToggleSidebar}></div>}\r\n\r\n      <div className=\"container\">\r\n        <div id=\"container__sidebar--small\">\r\n          <span onClick={onToggleSidebar}>\r\n            {!sidebarOpened && <Tooltip title={t<string>('main.openMenu')}>\r\n              <MenuIcon />\r\n            </Tooltip>}\r\n\r\n            {sidebarOpened && <Tooltip title={t<string>('main.closeMenu')}>\r\n              <HighlightOffIcon />\r\n            </Tooltip>}\r\n          </span>\r\n        </div>\r\n\r\n        <div id=\"container__sidebar\" className={sidebarOpened ? sidebarStyles.mobileSidebar : ''}>\r\n          <Sidebar></Sidebar>\r\n        </div>\r\n        <div id=\"container__content\">\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <Redirect to=\"/overview\"></Redirect>\r\n            </Route>\r\n\r\n            <Route path=\"/overview\" exact>\r\n              <Suspense fallback={\r\n                <Modal show={true} color={mainUtil.BLUE_COLOR}>\r\n                  <CircularProgress color=\"inherit\" />\r\n                </Modal>}>\r\n                <OverviewLazyComponent />\r\n              </Suspense>\r\n            </Route>\r\n\r\n            <Route path=\"/users\" exact>\r\n              <Suspense fallback={\r\n                <Modal show={true} color={mainUtil.BLUE_COLOR}>\r\n                  <CircularProgress color=\"inherit\" />\r\n                </Modal>}>\r\n                <UsersLazyComponent />\r\n              </Suspense>\r\n            </Route>\r\n\r\n            <Route path=\"/events\" exact>\r\n              <Suspense fallback={\r\n                <Modal show={true} color={mainUtil.BLUE_COLOR}>\r\n                  <CircularProgress color=\"inherit\" />\r\n                </Modal>}>\r\n                <EventsLazyComponent />\r\n              </Suspense>\r\n            </Route>\r\n\r\n            <Route path=\"*\">\r\n              <NotFound></NotFound>\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { eventStoreReducer } from './EventIndex';\r\nimport { usersStoreReducer } from './UsersIndex';\r\nimport { overviewStoreReducer } from './OverviewIndex';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    overview: overviewStoreReducer.reducer,\r\n    users: usersStoreReducer.reducer,\r\n    events: eventStoreReducer.reducer\r\n  }\r\n});\r\n\r\nexport default store;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './index.scss';\r\nimport App from './App';\r\nimport React from 'react';\r\nimport i18next from \"i18next\";\r\nimport ReactDOM from 'react-dom';\r\nimport store from './store/index';\r\nimport { Provider } from 'react-redux';\r\nimport 'fontsource-nunito-sans/latin.css';\r\nimport { I18nextProvider } from \"react-i18next\";\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Language } from './ts/enums/language.enum';\r\nimport englishTranslations from \"./translations/en/index.json\";\r\nimport serbianTranslations from \"./translations/srb/index.json\";\r\nimport * as mainUtil from './utils/main-util';\r\n\r\ni18next.init({\r\n  interpolation: { escapeValue: false },\r\n  lng: mainUtil.getStoredLanguage(),\r\n  resources: {\r\n      [Language.ENGLISH]: {\r\n          index: englishTranslations\r\n      },\r\n      [Language.SERBIAN]: {\r\n        index: serbianTranslations\r\n      }\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <HashRouter>\r\n        <I18nextProvider i18n={i18next}>\r\n            <App/>\r\n        </I18nextProvider>\r\n      </HashRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export enum Language {\r\n    ENGLISH = 'en',\r\n    SERBIAN = 'srb'\r\n}","import { IUseFetchHookProps } from \"./ts/models/use-fetch-hook-props.model\";\r\nimport axios from \"axios\";\r\n\r\nconst useFetch = async (props: IUseFetchHookProps) => {\r\n    try {\r\n        const httpData = await axios.get(props.fetchUrl);\r\n\r\n        return httpData.data;\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default useFetch;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mobileSidebar\":\"Sidebar_mobileSidebar__Ai3tZ\",\"logo\":\"Sidebar_logo__1gTFf\",\"logo__icon\":\"Sidebar_logo__icon__3jkmM\",\"options\":\"Sidebar_options__2FCjb\",\"options__item\":\"Sidebar_options__item__aYbXh\",\"options__item--active\":\"Sidebar_options__item--active__1cdO0\"};","export enum TableAlignment {\r\n    LEFT = 'left',\r\n    RIGHT = 'right',\r\n    CENTER = 'center'\r\n}","import { TFunction } from \"i18next\";\r\nimport { Language } from \"../ts/enums/language.enum\";\r\nimport { TableAlignment } from \"../ui-components/table/ts/enums/table-alignment.enum\";\r\n\r\nexport const APP_LOAD_DELAY = 2000;\r\n\r\nexport const RED_COLOR = '#f44336';\r\nexport const BLUE_COLOR = '#3363ff';\r\nexport const GREEN_COLOR = '#4caf50';\r\nexport const YELLOW_COLOR = '#ffeb3b';\r\nexport const PURPLE_COLOR = '#E18CF9';\r\n\r\nexport const BLUE_BACKGROUND = '#003CFF';\r\nexport const LIGHT_BLUE_COLOR = 'rgba(0, 60, 255, 0.2)';\r\nexport const LIGHT_PURPLE_COLOR = 'rgba(255, 140, 249, 0.2)';\r\n\r\nconst getUniqueItems = <T>(data: T[], key: keyof T) => {\r\n  return data.reduce((accumulator, dataItem) => {\r\n    const valueToCompare = dataItem[key] as unknown as string;\r\n\r\n    return accumulator.includes(valueToCompare) ? accumulator : [...accumulator, valueToCompare];\r\n  }, [] as string[]);\r\n}\r\n\r\nexport const unitSeparator = (tickValue: string | number) => {\r\n  const tickValueNumber = Number.parseFloat(tickValue.toString());\r\n\r\n  if (tickValueNumber >= 10) {\r\n    const unitsToUse = ['', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\r\n    const i = Math.floor(Math.log(tickValueNumber) / Math.log(1000));\r\n\r\n    return `${parseFloat((tickValueNumber / Math.pow(1000, i)).toFixed(2))} ${unitsToUse[i] || ''}`;\r\n  }\r\n\r\n  return tickValue.toString();\r\n}\r\n\r\nexport const getNumberOfEventsByDate = <T, U>(labels: string[], data: T[], eventType?: U) => {\r\n  return labels.reduce((accumulator, label) => {\r\n    const matchingLabelEvents = data.filter(dataItem => {\r\n      const { datetime, value } = dataItem as unknown as { datetime: string; value: U };\r\n      const typeMatches = !eventType ? true : value === eventType;\r\n\r\n      return typeMatches && datetime.startsWith(label);\r\n    });\r\n\r\n    return accumulator + matchingLabelEvents.length;\r\n  }, 0);\r\n}\r\n\r\nexport const getUniqueItemsFromTheRange = <T>(data: T[], key: keyof T, sliceOffset: number) => {\r\n  return Array\r\n    .from(new Set(data.map(dataItem => (dataItem[key] as unknown as string).split(' ')[0])))\r\n    .slice(sliceOffset);\r\n}\r\n\r\nexport const getTableRows = <T>(data: T[], key: keyof T, showImage: boolean, translationObject?: TFunction, translationKey?: string) => {\r\n  const uniqueItems = getUniqueItems<T>(data, key);\r\n\r\n  return uniqueItems.map(uniqueItem => {\r\n    const numberOfVisits = data.filter(dataItem => dataItem[key] as unknown === uniqueItem).length;\r\n    const firstValue = !translationObject ? uniqueItem : translationObject(`${translationKey}.${uniqueItem.toLowerCase()}`);\r\n\r\n    return {\r\n      data: [\r\n        { 'row-0': firstValue, imageValue: uniqueItem, alignment: TableAlignment.LEFT, showImage },\r\n        { 'row-1': numberOfVisits, alignment: TableAlignment.RIGHT }\r\n      ]\r\n    };\r\n  });\r\n}\r\n\r\nexport const getStoredLanguage = () => {\r\n  try {\r\n      const storedLanguage = localStorage.getItem('loggyLanguage') as Language | null;\r\n\r\n      if (storedLanguage === Language.ENGLISH ||  storedLanguage === Language.SERBIAN) {\r\n          return storedLanguage as Language;\r\n      }\r\n\r\n      return Language.SERBIAN;\r\n  } catch {\r\n      return Language.SERBIAN;\r\n  }\r\n}\r\n\r\nexport const getTableHeaders = (titles: string[], numberOfHeaders: number) => {\r\n  return Array\r\n  .from({length: numberOfHeaders})\r\n  .map((_, index) => {\r\n    const alignment = index !== 0 ? TableAlignment.RIGHT : TableAlignment.LEFT;\r\n\r\n    return { value: titles[index], alignment }\r\n  });\r\n}","export enum EventType {\r\n    USER_LOGIN = 'ULI',\r\n    USER_LOGOUT = 'ULO',\r\n    FILE_DATA_WRITE = 'FDW',\r\n    SERVICE_START = 'SS',\r\n    MALWARE_ATTACK = 'MA'\r\n}","import { UserType } from \"./ts/enums/user-type.enum\";\r\nimport { IOverviewItem } from \"./ts/models/overview-item.model\";\r\nimport { IOverviewVisitor } from \"./ts/models/overview-visitor.model\";\r\nimport * as mainUtil from '../../utils/main-util';\r\n\r\nconst getNumberOfVisitorsByDate = (labels: string[], data: IOverviewVisitor[], userType: UserType) => {\r\n  return labels.map(label => {\r\n    const matchingLabelEvents = data.filter(dataItem => dataItem.datetime.startsWith(label) && dataItem.value === userType);\r\n\r\n    return matchingLabelEvents.length;\r\n  });\r\n}\r\n\r\nexport const transformOverviewData = (data: string | null) => {\r\n  if (data) {\r\n    return data\r\n      .split(/\\r?\\n/)\r\n      .map(rowItem => {\r\n        const [, dateTimeValue, , value,] = rowItem.split(' ');\r\n        const [date, time] = dateTimeValue.split('-');\r\n        const datetime = `${date} ${time}`;\r\n\r\n        return { datetime, value: value || \"\" };\r\n      });\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\nexport const getOnlineUsers = (data: IOverviewItem[]) => data.length;\r\n\r\nexport const getTotalUsersPercentage = (data: IOverviewVisitor[], userType: UserType) => {\r\n  const visitors = mainUtil.getUniqueItemsFromTheRange<IOverviewVisitor>(data, 'datetime', -14);\r\n\r\n  const last7DaysEvents = mainUtil.getNumberOfEventsByDate(visitors.slice(-7), data, userType);\r\n  const previous7DaysEvents = mainUtil.getNumberOfEventsByDate(visitors.slice(0, 7), data, userType);\r\n\r\n  const showUpIcon = last7DaysEvents > previous7DaysEvents;\r\n  const totalPercentage = ((last7DaysEvents / previous7DaysEvents)).toFixed(1);\r\n\r\n  return { showUpIcon, totalPercentage };\r\n}\r\n\r\nexport const getNumberOfVisitors = (data: IOverviewVisitor[], userType: UserType) => {\r\n  const visitors = mainUtil.getUniqueItemsFromTheRange<IOverviewVisitor>(data, 'datetime', -14);\r\n\r\n  return mainUtil.getNumberOfEventsByDate(visitors.slice(-7), data, userType);\r\n}\r\n\r\nexport const getTotalNumberOfVisitors = (data: IOverviewVisitor[]) => data.length;\r\n\r\nexport const getLineChartVisitorsData = (data: IOverviewVisitor[], newVisitorsLabel: string, existingVisitorsLabel: string) => {\r\n  const labels = mainUtil.getUniqueItemsFromTheRange<IOverviewVisitor>(data, 'datetime', -14);\r\n\r\n  return {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: newVisitorsLabel,\r\n        data: getNumberOfVisitorsByDate(labels, data, UserType.NEW),\r\n        fill: false,\r\n        backgroundColor: mainUtil.BLUE_COLOR,\r\n        borderColor: mainUtil.LIGHT_BLUE_COLOR\r\n      },\r\n      {\r\n        label: existingVisitorsLabel,\r\n        data: getNumberOfVisitorsByDate(labels, data, UserType.EXISTING),\r\n        fill: false,\r\n        backgroundColor: mainUtil.PURPLE_COLOR,\r\n        borderColor: mainUtil.LIGHT_PURPLE_COLOR\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nexport const getReferralsTableRows = (data: IOverviewItem[]) => {\r\n  return mainUtil.getTableRows<IOverviewItem>(data, 'value', false).map(rowItem => {\r\n    return {\r\n      data: rowItem.data.map((rowDataItem, rowDataIndex) => {\r\n        if (rowDataIndex === 0) {\r\n          const referralValue = rowDataItem['row-0'] as string;\r\n          const newReferralSource = referralValue.charAt(0).toUpperCase() + referralValue.slice(1, referralValue.length).toLowerCase();\r\n\r\n          return { ...rowDataItem, 'row-0': newReferralSource };\r\n        }\r\n\r\n        return rowDataItem;\r\n      })\r\n    }\r\n  });\r\n}","import { Backdrop } from '@mui/material';\r\nimport { ILoaderProps } from './ts/models/loader-props.model';\r\n\r\nconst Loader = (props: ILoaderProps) => {\r\n    const { show, color, children } = props;\r\n    const colorToUse = !color ? 'black' : color;\r\n\r\n    return (\r\n        <>\r\n            <Backdrop\r\n                sx={{ color: colorToUse, zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n                open={show}\r\n            >\r\n                {children}\r\n            </Backdrop>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import Loader from \"../loader/Loader\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = (props: { show: boolean, color?: string, children: React.ReactNode; }) => {\r\n    return ReactDOM.createPortal(\r\n        <Loader show={props.show} color={props.color}>\r\n            {props.children}\r\n        </Loader>,\r\n        document.querySelector('#overlay-root') as HTMLElement);\r\n};\r\n\r\nexport default Modal;\r\n","export enum UserType {\r\n    NEW = 'N',\r\n    EXISTING = 'E'\r\n}\r\n","export enum UserLogFileType {\r\n    JAVASCRIPT = 'JS',\r\n    STYLESHEET = 'CSS',\r\n    TEXTUAL = 'TXT',\r\n    IMAGE = 'IMG',\r\n    HTML = 'HTML'\r\n}\r\n","import { IUserLog } from \"./ts/models/user-log.model\";\r\nimport { UserLogFileType } from \"./ts/enums/user-log-file-type.enum\";\r\nimport { UserLogDeviceType } from \"./ts/enums/user-log-device-type.enum\";\r\nimport * as mainUtil from '../../utils/main-util';\r\n\r\nconst visitDurationColors = [\r\n  mainUtil.YELLOW_COLOR, mainUtil.BLUE_COLOR, mainUtil.RED_COLOR, mainUtil.PURPLE_COLOR\r\n];\r\n\r\nconst getPiePercentage = (numberOfItems: number, totalNumberOfItems: number) => {\r\n  return +((numberOfItems / totalNumberOfItems) * 100).toFixed(1);\r\n}\r\n\r\nconst formatMainLog = (rowItem: string) => {\r\n  const [, dateTimeValue, , deviceType, , country, , duration, , fileType] = rowItem.split(' ');\r\n  const [date, time] = dateTimeValue.split('-');\r\n  const filetTypeUI = translateFileType(fileType as UserLogFileType);\r\n\r\n  return { datetime: `${date} ${time}`, deviceType, country, duration, fileType, filetTypeUI };\r\n}\r\n\r\nconst translateFileType = (fileType: UserLogFileType) => {\r\n  switch (fileType) {\r\n    case UserLogFileType.JAVASCRIPT:\r\n      return 'Javascript';\r\n    case UserLogFileType.STYLESHEET:\r\n      return 'Styling documents';\r\n    case UserLogFileType.TEXTUAL:\r\n      return 'Textual documents';\r\n    case UserLogFileType.IMAGE:\r\n      return 'Images';\r\n    case UserLogFileType.HTML:\r\n      return 'HTML page';\r\n  }\r\n}\r\n\r\nconst formatKeywordLog = (rowItem: string) => {\r\n  const [, dateTimeValue, , keyword] = rowItem.split(' ');\r\n  const [date, time] = dateTimeValue.split('-');\r\n\r\n  return { datetime: `${date} ${time}`, keyword };\r\n}\r\n\r\nconst getDurationItemsFromRange = (data: IUserLog[], startDuration: number, endDuration: number) => {\r\n  return data.filter(dataItem => {\r\n    const parsedDuration = +dataItem.duration;\r\n\r\n    return parsedDuration >= startDuration && parsedDuration <= endDuration;\r\n  });\r\n}\r\n\r\nexport const getVisitsDurationData = (data: IUserLog[]) => {\r\n  const zeroTo30Seconds = getDurationItemsFromRange(data, 0, 30).length;\r\n  const thirtyTo2Minutes = getDurationItemsFromRange(data, 30, 120).length;\r\n  const twoToTo5Minutes = getDurationItemsFromRange(data, 120, 300).length;\r\n  const fiveTo15Minutes = getDurationItemsFromRange(data, 300, 900).length;\r\n\r\n  const sumOfValues = [zeroTo30Seconds, twoToTo5Minutes, fiveTo15Minutes, thirtyTo2Minutes].reduce((accumulator, item) => accumulator + item, 0);\r\n\r\n  const zeroTo30SecondsPercent = getPiePercentage(zeroTo30Seconds, sumOfValues);\r\n  const thirtyTo2MinutesPercent = getPiePercentage(thirtyTo2Minutes, sumOfValues);\r\n  const twoToTo5MinutesPercent = getPiePercentage(twoToTo5Minutes, sumOfValues);\r\n  const fiveTo15MinutesPercent = getPiePercentage(fiveTo15Minutes, sumOfValues);\r\n\r\n  return {\r\n    labels: [\"0 s - 30 s\", \"30 s - 2 m\", \"2 m - 5 m\", \"5 m - 15 m\"],\r\n    datasets: [\r\n      {\r\n        label: \"\",\r\n        data: [zeroTo30SecondsPercent, thirtyTo2MinutesPercent, twoToTo5MinutesPercent, fiveTo15MinutesPercent],\r\n        backgroundColor: visitDurationColors,\r\n        borderWidth: 0\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nexport const transformUserLog = (data: string | null, isMainFile: boolean) => {\r\n  if (data) {\r\n    return data\r\n      .split(/\\r?\\n/)\r\n      .map(rowItem => isMainFile ? formatMainLog(rowItem) : formatKeywordLog(rowItem));\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\nexport const getNumberOfDeviceTypes = (data: IUserLog[], deviceType: UserLogDeviceType) => {\r\n  return data.reduce((accumulator, dataItem) => dataItem.deviceType === deviceType ? accumulator + 1 : accumulator, 0);\r\n}\r\n"],"sourceRoot":""}